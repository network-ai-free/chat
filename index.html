<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Interactive Particle Network</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
<canvas id="canvas"></canvas>

<div class="main-container">
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h3 class="sidebar-title">network.ai</h3>
      <!-- Site icon, hidden by default, shown when collapsed -->
      <div class="site-icon-collapsed">
        <!-- New icon from user -->
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" style="enable-background:new 0 0 55 55;" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17 s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4 c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562 C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829 c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91 v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4 s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019-0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665 C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2 S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4 s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2 s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z" fill="white"/></svg>
      </div>
      <!-- Toggle button, now moved to the header -->
      <button class="toggle-sidebar-btn" id="toggleSidebarBtn">
        <!-- Icon for expanded state (points left initially) -->
        <svg class="toggle-icon icon-expanded" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <g fill="currentColor">
            <path d="m14.9707 22.75h-6c-5.43 0-7.75-2.32-7.75-7.75v-6c0-5.43 2.32-7.75 7.75-7.75h6c5.43 0 7.75 2.32 7.75 7.75v6c0 5.43-2.31 7.75-7.75 7.75zm-6-20c-4.61 0-6.25 1.64-6.25 6.25v6c0 4.61 1.64 6.25 6.25 6.25h6c4.61 0 6.25-1.64 6.25-6.25v-6c0-4.61-1.64-6.25-6.25-6.25z"/>
            <path d="m7.9707 22.75c-.41 0-.75-.34-.75-.75v-20c0-.41.34-.75.75-.75s.75.34.75.75v20c0 .41-.33.75-.75.75z"/>
            <path d="m14.9707 15.31c-.19 0-.38-.07-.53-.22l-2.56-2.56c-.29-.29-.29-.77 0-1.06l2.56-2.56c.29-.29.77-.29 1.06 0s.29.77 0 1.06l-2.02 2.03 2.03 2.03c.29.29.29.77 0 1.06-.15.15-.34.22-.54.22z"/>
          </g>
        </svg>
        <!-- Icon for collapsed state (points right initially) -->
        <svg class="toggle-icon icon-collapsed" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <g fill="currentColor">
            <path d="m14.9707 22.75h-6c-5.43 0-7.75-2.32-7.75-7.75v-6c0-5.43 2.32-7.75 7.75-7.75h6c5.43 0 7.75 2.32 7.75 7.75v6c0 5.43-2.31 7.75-7.75 7.75zm-6-20c-4.61 0-6.25 1.64-6.25 6.25v6c0 4.61 1.64 6.25 6.25 6.25h6c4.61 0 6.25-1.64 6.25-6.25v-6c0-4.61-1.64-6.25-6.25-6.25z"/>
            <path d="m14.9707 22.75c-.41 0-.75-.34-.75-.75v-20c0-.41.34-.75.75-.75s.75.34.75.75v20c0 .41-.33.75-.75.75z"/>
            <path d="m7.9707 15.31c-.19 0-.38-.07-.53-.22-.29-.29-.29-.77 0-1.06l2.03-2.03-2.03-2.03c-.29-.29-.29-.77 0-1.06s.77-.29 1.06 0l2.56 2.56c.29.29.29.77 0 1.06l-2.56 2.56c-.14.15-.33.22-.53.22z"/>
          </g>
        </svg>
      </button>
    </div>
    <div class="chat-list">
      <!-- Saved chats will be loaded here -->
      <div class="saved-chat-item">Chat 1</div>
      <div class="saved-chat-item">Chat 2</div>
    </div>
    <div class="sidebar-footer">
      <!-- New Chat button with span for text -->
      <button class="new-chat-btn">
        <!-- Icon for new chat button when sidebar is collapsed -->
        <svg class="new-chat-icon-collapsed" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <g id="Layer_2" data-name="Layer 2">
            <path d="M8.514,22.634a2.3,2.3,0,0,1-.875-.176A2.216,2.216,0,0,1,6.25,20.379v-.622A1.008,1.008,0,0,0,5.243,18.75H4A2.753,2.753,0,0,1,1.25,16V4A2.753,2.753,0,0,1,4,1.25H20A2.753,2.753,0,0,1,22.75,4V16A2.753,2.753,0,0,1,20,18.75H13.728a1,1,0,0,0-.712.3L10.091,21.97A2.219,2.219,0,0,1,8.514,22.634ZM4,2.75A1.252,1.252,0,0,0,2.75,4V16A1.252,1.252,0,0,0,4,17.25H5.243A2.51,2.51,0,0,1,7.75,19.757v.622a.75.75,0,0,0,1.28.53l2.925-2.925a2.493,2.493,0,0,1,1.773-.734H20A1.252,1.252,0,0,0,21.25,16V4A1.252,1.252,0,0,0,20,2.75Z"/>
            <path d="M12,13.75a.75.75,0,0,1-.75-.75V7a.75.75,0,0,1,1.5,0v6A.75.75,0,0,1,12,13.75Z"/>
            <path d="M15,10.75H9a.75.75,0,0,1,0-1.5h6a.75.75,0,0,1,0,1.5Z"/>
          </g>
        </svg>
        <span>New Chat</span>
      </button>
      <!-- Settings button with span for text, now has an ID -->
      <button class="settings-btn" id="settingsBtn">
        <span>Settings</span>
      </button>
    </div>
  </div>

  <div class="content-area" id="contentArea">
    <div class="chat-container" id="chatContainer">
      <div class="message-list-wrapper" id="messageListWrapper">
        <!-- Сообщения чата будут здесь -->
      </div>
    </div>
    <div class="bottom-input-container">
      <textarea id="messageInput" placeholder="Что ты хочешь узнать?" rows="1"></textarea>
        <div class="button-row">
          <div class="left-buttons">
            <button class="attach-button" aria-label="Прикрепить">
              <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 792 792" style="enable-background:new 0 0 792 792;" xml:space="preserve">
                <g><g id="_x33__22_"><g><path d="M544.5,99v495c0,82.021-66.479,148.5-148.5,148.5S247.5,676.021,247.5,594V148.5c0-54.673,44.327-99,99-99 s99,44.327,99,99V594c0,27.349-22.176,49.5-49.5,49.5c-27.349,0-49.5-22.151-49.5-49.5V198H297v396c0,54.673,44.327,99,99,99 s99-44.327,99-99V148.5C495,66.479,428.521,0,346.5,0S198,66.479,198,148.5v470.25C210.202,716.389,295.045,792,396,792 s185.798-75.611,198-173.25V99H544.5z"/>
                </g></g></g>
              </svg>
            </button>
            <button class="think-button" id="thinkBtn">
              <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 479.797 479.797" style="enable-background:new 0 0 479.797 479.797;" xml:space="preserve"><g><g><path d="M382.776,126.237C374.41,60.524,322.441,8.911,256.672,0.997C177.686-8.281,106.134,48.228,96.855,127.214 c-0.657,5.594-0.985,11.222-0.983,16.855c-0.136,44.513,20.436,86.558,55.664,113.768c10.159,7.585,16.2,19.474,16.336,32.152 v118.08c0.048,10.298,6.66,19.417,16.432,22.664c3.834,30.689,31.821,52.46,62.51,48.625 c25.424-3.176,45.449-23.202,48.626-48.625c9.772-3.247,16.384-12.366,16.432-22.664v-118.08 c0.1-12.607,6.043-24.454,16.088-32.072C368.338,226.887,389.207,176.754,382.776,126.237z M239.872,464.069 c-19.002-0.021-35.375-13.387-39.2-32h78.4C275.247,450.682,258.874,464.048,239.872,464.069z M295.872,312.069h-56 c-4.418,0-8,3.582-8,8s3.582,8,8,8h56v8h-56c-4.418,0-8,3.582-8,8s3.582,8,8,8h56v8h-56c-4.418,0-8,3.582-8,8s3.582,8,8,8h56v8 c0,4.418-3.582,8-8,8h-96c-4.418,0-8-3.582-8-8v-7.928l23.928,0.232h0.072 c4.418,0.02,8.016-3.546,8.036-7.964s-3.546-8.016-7.964-8.036l-24.072-0.232v-8l23.928,0.232h0.072 c4.418,0.02,8.016-3.546,8.036-7.964s-3.546-8.016-7.964-8.036l-24.072-0.232v-8l23.928,0.232h0.072 c4.418,0.02,8.016-3.546,8.036-7.964s-3.546-8.016-7.964-8.036l-24.072-0.232v-16.072h112V312.069z M366.94,159.086 c-4.034,34.119-21.615,65.184-48.788,86.207l0.032-0.04c-11.166,8.572-18.764,20.974-21.328,34.816H182.872 c-2.611-13.888-10.282-26.314-21.528-34.872c-55.852-43.423-65.927-123.9-22.504-179.752c4.754-6.115,10.053-11.786,15.832-16.944 c23.325-20.978,53.614-32.537,84.984-32.432c5.079,0.003,10.154,0.294,15.2,0.872C325.059,25.242,375.241,88.882,366.94,159.086z" /></g></g></svg>
              Думать
            </button>
            <button class="search-button" id="searchBtn">
              <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 406.898 406.898" style="enable-background:new 0 0 406.898 406.898;" xml:space="preserve"><path d="M403.449,200.001c0-110.28-89.72-200.001-200-200.001s-200,89.721-200,200.001c0,103.735,79.391,189.267,180.601,199.056 c5.036,4.849,11.873,7.842,19.399,7.842c7.526,0,14.363-2.993,19.399-7.842C324.059,389.268,403.449,303.736,403.449,200.001z M370.23,200.001c0,14.53-16.405,30.542-43.884,42.831c-7.9,3.532-16.466,6.672-25.557,9.413c-0.563-0.561-1.152-1.096-1.765-1.607 c2-16.333,3.048-33.319,3.048-50.637c0-18.1-1.133-35.846-3.314-52.854c9.853,2.88,19.1,6.227,27.587,10.021 C353.825,169.458,370.23,185.47,370.23,200.001z M259.038,58.586c6.802,0,12.338,5.537,12.338,12.34c0,6.801-5.536,12.338-12.338,12.338c-6.803,0-12.338-5.537-12.338-12.338C246.7,64.123,252.235,58.586,259.038,58.586z M281.104,284.468c-6.802,0-12.338-5.537-12.338-12.338c0-6.804,5.536-12.338,12.338-12.338c6.803,0,12.338,5.534,12.338,12.338 C293.441,278.931,287.906,284.468,281.104,284.468z M357.354,135.752c-5.379-3.136-11.195-6.111-17.446-8.907 c-14.27-6.381-30.315-11.642-47.605-15.696c-2.296-9.793-4.988-19.175-8.048-28.067c1.782-3.676,2.781-7.802,2.781-12.155 c0-7.608-3.054-14.511-7.991-19.562C314.116,69.273,342.051,99.232,357.354,135.752z M160.617,77.103 c12.289-27.478,28.301-43.884,42.832-43.884c10.409,0,21.577,8.42,31.593,23.297c-2.539,4.213-4.001,9.143-4.001,14.41 c0,13.861,10.125,25.395,23.367,27.608c0.652,2.025,1.287,4.075,1.895,6.155c-17.008-2.18-34.753-3.313-52.854-3.313 s-35.846,1.133-52.854,3.313C153.475,94.837,156.823,85.591,160.617,77.103z M117.69,123.82c0-6.803,5.537-12.34,12.34-12.34 c6.8,0,12.338,5.537,12.338,12.34c0,6.8-5.538,12.338-12.338,12.338C123.228,136.158,117.69,130.62,117.69,123.82z M139.2,46.097 c-3.136,5.38-6.112,11.197-8.906,17.448c-4.813,10.762-8.986,22.537-12.489,35.091c-6.376,3.109-11.401,8.569-13.945,15.244 c-13.217,3.601-25.603,7.929-36.868,12.965c-6.251,2.796-12.067,5.771-17.446,8.907C66.465,95.376,98.822,63.016,139.2,46.097z M36.668,200.001c0-14.531,16.405-30.543,43.884-42.832c8.487-3.794,17.734-7.142,27.587-10.021 c-2.181,17.008-3.313,34.754-3.313,52.854s1.133,35.848,3.313,52.854c-9.853-2.88-19.1-6.226-27.587-10.023 C53.073,230.543,36.668,214.531,36.668,200.001z M49.546,264.25c5.378,3.136,11.194,6.11,17.445,8.906 c14.27,6.382,30.315,11.642,47.605,15.699c4.056,17.288,9.315,33.333,15.697,47.604c2.794,6.25,5.771,12.067,8.906,17.444 C98.823,336.984,66.465,304.626,49.546,264.25z M138.042,200.001c0-17.431,1.141-34.421,3.302-50.581 c5.47-2.427,10.019-6.554,12.98-11.709c15.726-2.037,32.214-3.115,49.126-3.115c21.081,0,41.537,1.639,60.636,4.771 c3.133,19.098,4.771,39.553,4.771,60.634c0,16.753-1.052,33.1-3.05,48.697c-4.849,3.176-8.654,7.814-10.789,13.285 c-16.455,2.243-33.783,3.425-51.568,3.425c-21.081,0-41.537-1.641-60.636-4.772C139.681,241.538,138.042,221.084,138.042,200.001z M215.787,378.9c0,6.801-5.535,12.339-12.338,12.339c-6.803,0-12.338-5.538-12.338-12.339c0-6.803,5.535-12.339,12.338-12.339 C210.252,372.098,215.787,378.9,215.787,378.9z M246.281,322.897c-7.068,15.806-15.367,27.927-23.907,35.39 c-4.987-4.582-11.635-7.385-18.925-7.385c-7.29,0-13.936,2.803-18.924,7.385c-8.54-7.465-16.839-19.584-23.908-35.39 c-3.794-8.487-7.143-17.734-10.021-27.587c17.008,2.182,34.753,3.314,52.854,3.314s35.846-1.133,52.854-3.314 C253.424,305.163,250.075,314.41,246.281,322.897z M267.698,353.905c3.136-5.379,6.112-11.196,8.906-17.446 c5.146-11.503,9.542-24.182,13.185-37.718c6.884-2.253,12.603-7.103,15.986-13.395c12.19-3.44,23.651-7.503,34.132-12.19 c6.251-2.796,12.067-5.771,17.446-8.906C340.434,304.628,308.076,336.984,267.698,353.905z"/></svg>
              Поиск
            </button>
          </div>
          <button class="send-button" id="sendBtn" aria-label="Отправить">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.001 512.001" style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve">
              <g><g><path d="M406.262,152.467l-26.55,17.03l-26.55,17.03c-8.84,5.693-17.723,11.316-26.526,17.067l-52.909,34.357 c-8.83,5.707-17.617,11.483-26.4,17.263l-26.362,17.324c-8.781,5.784-17.592,11.521-26.335,17.367l-26.27,17.467 c-8.759,5.818-17.519,11.638-26.234,17.525l-26.181,17.608c-6.264,4.248-12.524,8.5-18.781,12.758l47.605,87.001 c5.792,10.585,19.868,13.133,29.003,5.252l34.634-29.885l-16.41-8.425l-6.216-1.96c-0.403-0.127-0.261-0.518,0.273-1.092 l-1.046-0.537l-0.543-0.278c-7.27-3.733-10.139-12.653-6.405-19.924c0.723-1.41,1.691-2.697,2.755-3.759 c12.317-12.191,24.703-24.314,36.961-36.562l36.836-36.684l36.697-36.818l18.329-18.428l18.271-18.484l36.54-36.969l36.407-37.098 l12.296-12.548C410.853,149.532,408.551,150.991,406.262,152.467z"/></g></g><g><g><path d="M486.015,60.718c-3.952,1.16-8.413,3.092-13.445,6.026L8.491,292.119c-12.551,5.998-10.793,24.392,2.668,27.903 l60.878,15.88c9.598-5.701,19.18-11.427,28.759-17.158l27.013-16.304c9.016-5.416,17.988-10.901,26.96-16.386l26.924-16.444 c8.988-5.459,17.909-11.025,26.859-16.544l26.832-16.587c8.947-5.523,17.893-11.052,26.793-16.648l53.478-33.466 c8.929-5.553,17.776-11.233,26.668-16.844l26.644-16.882l26.644-16.882c8.895-5.607,17.728-11.309,26.586-16.973l53.12-34.026 c4.679-2.997,10.902-1.634,13.898,3.045c2.559,3.995,1.939,9.115-1.209,12.392l-0.047,0.045 c-12.001,12.496-24.079,24.919-36.017,37.475l-35.895,37.593l-35.87,37.618l-35.736,37.748l-17.868,18.873l-17.809,18.93 l-35.58,37.898l-35.441,38.033c-7.069,7.562-14.095,15.167-21.115,22.777l28.705,13.394l152.024,46.158 c8.052,2.445,16.532-2.249,18.737-10.37l95.172-350.677C515.423,70.381,501.238,56.248,486.015,60.718z"/></g></g>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="particles.js"></script>
  <script src="script.js"></script>
</body>
</html>